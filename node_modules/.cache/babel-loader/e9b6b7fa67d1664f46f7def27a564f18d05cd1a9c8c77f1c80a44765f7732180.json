{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/pesto/project/Goalie-frontend/src/common/postCreateButton2.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useRef } from \"react\";\nimport { BsFilePost } from \"react-icons/bs\";\nimport PostFormModal from \"../components/feed/postFormModal\";\nimport { GrFormClose } from \"react-icons/gr\";\nimport imageUpload from \"../styles/assets/placeholders/imgUpload.png\";\nimport { ThreeDots } from \"react-loader-spinner\";\nimport { toast } from \"react-toastify\";\nimport { setNewPost } from \"../services/serverCalls\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PostCreate() {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [formData, setFormData] = useState({\n    uploadedImage: \"\",\n    description: \"\"\n  });\n  const {\n    uploadedImage,\n    description\n  } = formData;\n\n  // const [img, setImg] = useState<File>();\n\n  const [isButtonLoading, setIsButtonLoading] = useState(false);\n  const textRef = useRef();\n  const imgRef = useRef();\n  const onChangeHandler = function (e) {\n    const target = e.target;\n    textRef.current.style.height = \"30px\";\n    textRef.current.style.height = `${target.scrollHeight}px`;\n  };\n  const onSubmit = e => {\n    e.preventDefault();\n    setIsButtonLoading(true);\n    if (uploadedImage === \"\" || description === \"\") {\n      toast.error(\"Please enter atleast one field to upload\");\n      setIsButtonLoading(false);\n    } else {\n      const postData = {\n        desc: formData.description,\n        img: formData.uploadedImage\n      };\n      console.log(postData);\n      setNewPost(postData);\n      setIsOpen(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: isOpen ? \"absolute z-50 flex justify-center items-center backdrop-blur-md bg-gray-400/40 h-full w-full rounded-2xl\" : \"absolute flex justify-center items-center h-full w-full rounded-2xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-0 md:bottom-12 right-12 z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsOpen(true),\n        className: isOpen ? \"hidden\" : \"absolute bottom-8 md:bottom-0 right-0 flex items-center justify-center bg-orange-500 text-4xl text-white h-16 w-16 rounded-full cursor-pointer shadow-xl hover:scale-105 hover:duration-300\",\n        children: /*#__PURE__*/_jsxDEV(BsFilePost, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostFormModal, {\n      open: isOpen,\n      onClose: () => setIsOpen(false),\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start h-12 items-center border-b-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl mx-auto h-fit text-center font-lato text-gray-700 font-semibold absolute left-6\",\n            children: \"Create Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsOpen(false),\n            className: \"text-3xl absolute right-0 flex justify-center items-center mr-2 hover:bg-orange-500/30 w-10 h-10 rounded-full\",\n            children: /*#__PURE__*/_jsxDEV(GrFormClose, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-10/12 mx-auto flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-xl font-lato font-semibold my-4\",\n            children: \"Upload your photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageUpload,\n            alt: \"upload photos here\",\n            className: \"w-40 max-w-xl object-cover object-center mx-auto mb-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: event => {\n              event.preventDefault();\n              imgRef.current.click();\n            },\n            className: \"w-fit h-10 text-lg px-3 mx-auto rounded-full bg-gray-400\",\n            children: \"Upload Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            className: \"hidden\",\n            ref: imgRef,\n            value: uploadedImage,\n            accept: \"image/*\"\n            // onChange={(event) => {\n            //   const file = event.target.files[0];\n            //   if (file) {\n            //     setImg(file);\n            //   } else {\n            //     setImg(null);\n            //   }\n            // }}\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-10/12 mx-auto flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-xl font-lato font-semibold my-4\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            maxLength: 280,\n            name: \"description\",\n            ref: textRef,\n            value: description,\n            onChange: onChangeHandler,\n            className: \"rounded-3xl scrollbar-hide focus:ring-2 resize-none focus:border-white  focus:ring-orange-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-2 py-5 text-center\",\n          children: isButtonLoading ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"rounded-full mx-auto h-10 px-4 w-24 bg-orange-500 text-white text-2xl hover:border-orange-500 hover:border-2\",\n            children: /*#__PURE__*/_jsxDEV(ThreeDots, {\n              height: \"15\",\n              width: \"70\",\n              radius: \"3\",\n              color: \"#ffffff\",\n              ariaLabel: \"three-dots-loading\",\n              visible: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"rounded-full mx-auto h-10 px-4 w-24 bg-orange-500 text-white text-2xl hover:bg-white hover:text-orange-500 hover:border-orange-500 hover:border-2\",\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(PostCreate, \"i3k+FnybwUORQWvPZzEfOyqAOfU=\");\n_c = PostCreate;\nexport default PostCreate;\nvar _c;\n$RefreshReg$(_c, \"PostCreate\");","map":{"version":3,"names":["React","useState","useRef","BsFilePost","PostFormModal","GrFormClose","imageUpload","ThreeDots","toast","setNewPost","PostCreate","isOpen","setIsOpen","formData","setFormData","uploadedImage","description","isButtonLoading","setIsButtonLoading","textRef","imgRef","onChangeHandler","e","target","current","style","height","scrollHeight","onSubmit","preventDefault","error","postData","desc","img","console","log","event","click"],"sources":["/home/dilip/Desktop/pesto/project/Goalie-frontend/src/common/postCreateButton2.tsx"],"sourcesContent":["import React, { MutableRefObject } from \"react\";\nimport { useState, useRef } from \"react\";\nimport { BsFilePost } from \"react-icons/bs\";\nimport PostFormModal from \"../components/feed/postFormModal\";\nimport { GrFormClose } from \"react-icons/gr\";\nimport imageUpload from \"../styles/assets/placeholders/imgUpload.png\";\nimport { ThreeDots } from \"react-loader-spinner\";\nimport { toast } from \"react-toastify\";\nimport { setNewPost } from \"../services/serverCalls\";\n\nfunction PostCreate() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const [formData, setFormData] = useState({\n    uploadedImage: \"\",\n    description: \"\",\n  });\n\n  const { uploadedImage, description } = formData;\n\n  // const [img, setImg] = useState<File>();\n\n  const [isButtonLoading, setIsButtonLoading] = useState(false);\n\n  const textRef = useRef<any>();\n\n  const imgRef = useRef() as MutableRefObject<HTMLInputElement>;\n\n  const onChangeHandler = function (e: React.SyntheticEvent<EventTarget>) {\n    const target = e.target as HTMLTextAreaElement;\n    textRef.current.style.height = \"30px\";\n    textRef.current.style.height = `${target.scrollHeight}px`;\n  };\n\n  const onSubmit = (e: React.SyntheticEvent) => {\n    e.preventDefault();\n\n    setIsButtonLoading(true);\n\n    if (uploadedImage === \"\" || description === \"\") {\n      toast.error(\"Please enter atleast one field to upload\");\n      setIsButtonLoading(false);\n    } else {\n      const postData = {\n        desc: formData.description,\n        img: formData.uploadedImage,\n      };\n      console.log(postData);\n      setNewPost(postData);\n      setIsOpen(false);\n    }\n  };\n\n  return (\n    <div\n      className={\n        isOpen\n          ? \"absolute z-50 flex justify-center items-center backdrop-blur-md bg-gray-400/40 h-full w-full rounded-2xl\"\n          : \"absolute flex justify-center items-center h-full w-full rounded-2xl\"\n      }\n    >\n      <div className=\"fixed bottom-0 md:bottom-12 right-12 z-10\">\n        <button\n          onClick={() => setIsOpen(true)}\n          className={\n            isOpen\n              ? \"hidden\"\n              : \"absolute bottom-8 md:bottom-0 right-0 flex items-center justify-center bg-orange-500 text-4xl text-white h-16 w-16 rounded-full cursor-pointer shadow-xl hover:scale-105 hover:duration-300\"\n          }\n        >\n          <BsFilePost />\n        </button>\n      </div>\n      <PostFormModal open={isOpen} onClose={() => setIsOpen(false)}>\n        <form onSubmit={onSubmit}>\n          <div className=\"flex justify-start h-12 items-center border-b-2\">\n            <h1\n              className=\"text-2xl mx-auto h-fit text-center font-lato text-gray-700 font-semibold\n                 absolute left-6\"\n            >\n              Create Post\n            </h1>\n            <button\n              onClick={() => setIsOpen(false)}\n              className=\"text-3xl absolute right-0 flex justify-center items-center mr-2 hover:bg-orange-500/30 w-10 h-10 rounded-full\"\n            >\n              <GrFormClose />\n            </button>\n          </div>\n          <div className=\"w-10/12 mx-auto flex flex-col\">\n            <label className=\"text-xl font-lato font-semibold my-4\">\n              Upload your photo\n            </label>\n            <img\n              src={imageUpload}\n              alt=\"upload photos here\"\n              className=\"w-40 max-w-xl object-cover object-center mx-auto mb-5\"\n            />\n            <button\n              onClick={(event) => {\n                event.preventDefault();\n                imgRef.current.click();\n              }}\n              className=\"w-fit h-10 text-lg px-3 mx-auto rounded-full bg-gray-400\"\n            >\n              Upload Image\n            </button>\n            <input\n              type=\"file\"\n              className=\"hidden\"\n              ref={imgRef}\n              value={uploadedImage}\n              accept=\"image/*\"\n              // onChange={(event) => {\n              //   const file = event.target.files[0];\n              //   if (file) {\n              //     setImg(file);\n              //   } else {\n              //     setImg(null);\n              //   }\n              // }}\n            />\n          </div>\n          <div className=\"w-10/12 mx-auto flex flex-col\">\n            <label className=\"text-xl font-lato font-semibold my-4\">\n              Description\n            </label>\n            <textarea\n              maxLength={280}\n              name=\"description\"\n              ref={textRef}\n              value={description}\n              onChange={onChangeHandler}\n              className=\"rounded-3xl scrollbar-hide focus:ring-2 resize-none focus:border-white  focus:ring-orange-500\"\n            />\n          </div>\n          <div className=\"my-2 py-5 text-center\">\n            {isButtonLoading ? (\n              <button\n                type=\"submit\"\n                className=\"rounded-full mx-auto h-10 px-4 w-24 bg-orange-500 text-white text-2xl\n                        hover:border-orange-500 hover:border-2\"\n              >\n                <ThreeDots\n                  height=\"15\"\n                  width=\"70\"\n                  radius=\"3\"\n                  color=\"#ffffff\"\n                  ariaLabel=\"three-dots-loading\"\n                  visible={true}\n                />\n              </button>\n            ) : (\n              <button\n                type=\"submit\"\n                className=\"rounded-full mx-auto h-10 px-4 w-24 bg-orange-500 text-white text-2xl hover:bg-white hover:text-orange-500\n                        hover:border-orange-500 hover:border-2\"\n              >\n                Post\n              </button>\n            )}\n          </div>\n        </form>\n      </PostFormModal>\n    </div>\n  );\n}\n\nexport default PostCreate;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}