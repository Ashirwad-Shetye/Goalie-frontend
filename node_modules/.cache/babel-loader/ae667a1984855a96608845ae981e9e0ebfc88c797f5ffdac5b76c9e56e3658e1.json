{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/pesto/project/Goalie-frontend/src/common/postCreateButton2.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useRef } from \"react\";\nimport { BsFilePost } from \"react-icons/bs\";\nimport PostFormModal from \"../components/feed/postFormModal\";\nimport { GrFormClose } from \"react-icons/gr\";\nimport imageUpload from \"../styles/assets/placeholders/imgUpload.png\";\nimport { setNewPost } from '../services/serverCalls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PostCreate() {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [img, setImg] = useState();\n  const textRef = useRef();\n  const imgRef = useRef();\n  const onChangeHandler = function (e) {\n    const target = e.target;\n    textRef.current.style.height = \"30px\";\n    textRef.current.style.height = `${target.scrollHeight}px`;\n  };\n  const submitPost = () => {\n    setNewPost({\n      description: textRef\n    });\n  };\n\n  // const imageHandler = (e: React.SyntheticEvent<EventTarget>) => {\n  //   const reader = new FileReader();\n  //   reader.onload = () => {\n  //     if (reader.readyState === 2) {\n  //       imgRef.current.src = reader.result;\n  //     }\n  //   };\n  //   reader.readAsDataURL(e.target.files[0]);\n  // };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: isOpen ? \"absolute z-50 flex justify-center items-center backdrop-blur-md bg-gray-400/40 h-full w-full rounded-2xl\" : \"absolute flex justify-center items-center h-full w-full rounded-2xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-0 md:bottom-12 right-12 z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsOpen(true),\n        className: isOpen ? \"hidden\" : \"absolute bottom-8 md:bottom-0 right-0 flex items-center justify-center bg-orange-500 text-4xl text-white h-16 w-16 rounded-full cursor-pointer shadow-xl hover:scale-105 hover:duration-300\",\n        children: /*#__PURE__*/_jsxDEV(BsFilePost, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostFormModal, {\n      open: isOpen,\n      onClose: () => setIsOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-start h-12 items-center border-b-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl mx-auto h-fit text-center font-lato text-gray-700 font-semibold absolute left-6\",\n          children: \"Create Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsOpen(false),\n          className: \"text-3xl absolute right-0 flex justify-center items-center mr-2 hover:bg-orange-500/30 w-10 h-10 rounded-full\",\n          children: /*#__PURE__*/_jsxDEV(GrFormClose, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-10/12 mx-auto flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xl font-lato font-semibold my-4\",\n          children: \"Upload your photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imageUpload,\n          alt: \"upload photos here\",\n          className: \"w-40 max-w-xl object-cover object-center mx-auto mb-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"upload\",\n          id: \"input\",\n          accept: \"image/*\",\n          className: \"bg-red-200 w-40 mx-auto object-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: event => {\n            event.preventDefault();\n            imgRef.current.click();\n          },\n          className: \"w-fit h-10 text-lg px-3 mx-auto rounded-full bg-gray-400\",\n          children: \"Upload Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-10/12 mx-auto flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xl font-lato font-semibold my-4\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          maxLength: 280,\n          name: \"description\",\n          ref: textRef,\n          onChange: onChangeHandler,\n          className: \"rounded-3xl scrollbar-hide focus:ring-2 resize-none focus:border-white  focus:ring-orange-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-2 py-5 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submitPost,\n          className: \"rounded-full mx-auto h-10 px-4 w-24 bg-orange-500 text-white text-2xl hover:bg-white hover:text-orange-500 hover:border-orange-500 hover:border-2\",\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(PostCreate, \"vMpMu06Xfmymy+FMfehXB8eTnG8=\");\n_c = PostCreate;\nexport default PostCreate;\nvar _c;\n$RefreshReg$(_c, \"PostCreate\");","map":{"version":3,"names":["React","useState","useRef","BsFilePost","PostFormModal","GrFormClose","imageUpload","setNewPost","PostCreate","isOpen","setIsOpen","img","setImg","textRef","imgRef","onChangeHandler","e","target","current","style","height","scrollHeight","submitPost","description","event","preventDefault","click"],"sources":["/home/dilip/Desktop/pesto/project/Goalie-frontend/src/common/postCreateButton2.tsx"],"sourcesContent":["import React, { MutableRefObject } from \"react\";\nimport { useState, useRef } from \"react\";\nimport { BsFilePost } from \"react-icons/bs\";\nimport PostFormModal from \"../components/feed/postFormModal\";\nimport { GrFormClose } from \"react-icons/gr\";\nimport imageUpload from \"../styles/assets/placeholders/imgUpload.png\";\nimport { setNewPost } from '../services/serverCalls';\n\nfunction PostCreate() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const [img, setImg] = useState<File>();\n\n  const textRef = useRef<any>();\n\n  const imgRef = useRef() as MutableRefObject<HTMLInputElement>;\n\n  const onChangeHandler = function (e: React.SyntheticEvent<EventTarget>) {\n    const target = e.target as HTMLTextAreaElement;\n    textRef.current.style.height = \"30px\";\n    textRef.current.style.height = `${target.scrollHeight}px`;\n  };\n\n  const submitPost = () => {\n    setNewPost({description: textRef})\n  }\n\n  // const imageHandler = (e: React.SyntheticEvent<EventTarget>) => {\n  //   const reader = new FileReader();\n  //   reader.onload = () => {\n  //     if (reader.readyState === 2) {\n  //       imgRef.current.src = reader.result;\n  //     }\n  //   };\n  //   reader.readAsDataURL(e.target.files[0]);\n  // };\n\n  return (\n    <div\n      className={\n        isOpen\n          ? \"absolute z-50 flex justify-center items-center backdrop-blur-md bg-gray-400/40 h-full w-full rounded-2xl\"\n          : \"absolute flex justify-center items-center h-full w-full rounded-2xl\"\n      }\n    >\n      <div className=\"fixed bottom-0 md:bottom-12 right-12 z-10\">\n        <button\n          onClick={() => setIsOpen(true)}\n          className={\n            isOpen\n              ? \"hidden\"\n              : \"absolute bottom-8 md:bottom-0 right-0 flex items-center justify-center bg-orange-500 text-4xl text-white h-16 w-16 rounded-full cursor-pointer shadow-xl hover:scale-105 hover:duration-300\"\n          }\n        >\n          <BsFilePost />\n        </button>\n      </div>\n      <PostFormModal open={isOpen} onClose={() => setIsOpen(false)}>\n        <div className=\"flex justify-start h-12 items-center border-b-2\">\n          <h1\n            className=\"text-2xl mx-auto h-fit text-center font-lato text-gray-700 font-semibold\n                 absolute left-6\"\n          >\n            Create Post\n          </h1>\n          <button\n            onClick={() => setIsOpen(false)}\n            className=\"text-3xl absolute right-0 flex justify-center items-center mr-2 hover:bg-orange-500/30 w-10 h-10 rounded-full\"\n          >\n            <GrFormClose />\n          </button>\n        </div>\n        <div className=\"w-10/12 mx-auto flex flex-col\">\n          <label className=\"text-xl font-lato font-semibold my-4\">\n            Upload your photo\n          </label>\n          <img\n            src={imageUpload}\n            alt=\"upload photos here\"\n            className=\"w-40 max-w-xl object-cover object-center mx-auto mb-5\"\n          />\n          <input\n            type=\"file\"\n            name=\"upload\"\n            id=\"input\"\n            accept=\"image/*\"\n            className=\"bg-red-200 w-40 mx-auto object-none\"\n          />\n          <button\n            onClick={(event) => {\n              event.preventDefault();\n              imgRef.current.click();\n            }}\n            className=\"w-fit h-10 text-lg px-3 mx-auto rounded-full bg-gray-400\"\n          >\n            Upload Image\n          </button>\n          {/* <input\n            type=\"file\"\n            className=\"hidden\"\n            ref={imgRef}\n            onChange={(event) => {\n              const file = event.target.files[0];\n              if (file) {\n                setImg(file);\n              } else {\n                setImg(null);\n              }\n            }}\n          /> */}\n        </div>\n        <div className=\"w-10/12 mx-auto flex flex-col\">\n          <label className=\"text-xl font-lato font-semibold my-4\">\n            Description\n          </label>\n          <textarea\n            maxLength={280}\n            name=\"description\"\n            ref={textRef}\n            onChange={onChangeHandler}\n            className=\"rounded-3xl scrollbar-hide focus:ring-2 resize-none focus:border-white  focus:ring-orange-500\"\n          />\n        </div>\n        <div className=\"my-2 py-5 text-center\">\n          <button\n          onClick={submitPost}\n            className=\"rounded-full mx-auto h-10 px-4 w-24 bg-orange-500 text-white text-2xl hover:bg-white hover:text-orange-500\n                        hover:border-orange-500 hover:border-2\"\n          >\n            Post\n          </button>\n        </div>\n      </PostFormModal>\n    </div>\n  );\n}\n\nexport default PostCreate;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}